Main.EnvironmentModel.ForcePlates = 
{
  
  Main.EnvironmentModel.GlobalRef = 
  { 
    AnyRefNode FloorOffset = 
    {
       sRel = {0,0.04,0};
    };
  
  };
  
  
  
  //-------- Predictive forceplate for the right leg
  // See: #include "<ANYBODY_PATH_AMMR>/Tools/GRFPrediction/FootPlateConditionalContact.any" 
  FootPlateConditionalContact GRF_Prediction_Right(
  NORMAL_DIRECTION = "Y",
  NUMBER_OF_NODES = 15,
  NODES_FOLDER = FootNodes,
  PLATE_BASE_FRAME = Main.EnvironmentModel.GlobalRef.FloorOffset,
  SHOW_TRIGGER_VOLUME = ON
  ) =
  {
//    CreateFootContactNodes25 FootNodes(foot_ref = 
//    Main.HumanModel.BodyModel.Right.Leg.Seg.Foot) = {};
    
    AnyFolder FootNodes = {
      AnyFolder&foot_ref = Main.HumanModel.BodyModel.Right.Leg.Seg.Foot;
      AnyRefFrame &Node0 = foot_ref.Calcaneus.HeelContactNodeLow;
      AnyRefFrame &Node1 = foot_ref.ProximalPhalange1.ToeMedialContactNode;
      AnyRefFrame &Node2 = foot_ref.ProximalPhalange5.ToeLateralContactNode;
      AnyRefFrame &Node3 = foot_ref.Metatarsal1.MetatarsalJoint1Node;
      AnyRefFrame &Node4 = foot_ref.Metatarsal2.MetatarsalJoint2Node;
      AnyRefFrame &Node5 = foot_ref.Metatarsal3.MetatarsalJoint3Node;
      AnyRefFrame &Node6 = foot_ref.Metatarsal4.MetatarsalJoint4Node;
      AnyRefFrame &Node7 = foot_ref.Metatarsal5.MetatarsalJoint5Node;
      AnyRefFrame &Node8 = foot_ref.DistalPhalange1.ToeTip;
      AnyRefFrame &Node9 = foot_ref.DistalPhalange2.ToeTip;
      AnyRefFrame &Node10 = foot_ref.DistalPhalange3.CenterNode;
      AnyRefFrame &Node11 = foot_ref.DistalPhalange4.CenterNode;
      AnyRefFrame &Node12 = foot_ref.DistalPhalange5.CenterNode;
      AnyRefFrame &Node13 = foot_ref.Calcaneus.HeelContactNodeLateral;
      AnyRefFrame &Node14 = foot_ref.Calcaneus.HeelContactNodeMedial;
    };      
    // Additional force plate settings
    Settings = 
    {
      LimitDistHigh = 0.035; // Vertical height
      LimitVelHigh = 0.6;
      FrictionCoefficient = 0.8;
    };
  };
  
  
  

  
  
  //-------- Predictive forceplate for the left leg 
  // See: #include "<ANYBODY_PATH_AMMR>/Tools/GRFPrediction/FootPlateConditionalContact.any" 
  FootPlateConditionalContact GRF_Prediction_Left(
  NORMAL_DIRECTION = "Y",
  NUMBER_OF_NODES = 15,
  NODES_FOLDER = FootNodes,
  PLATE_BASE_FRAME = Main.EnvironmentModel.GlobalRef.FloorOffset,
  SHOW_TRIGGER_VOLUME = ON
  ) =
  {
//    CreateFootContactNodes25 FootNodes(foot_ref = 
//    Main.HumanModel.BodyModel.Left.Leg.Seg.Foot) = {};
    
    AnyFolder FootNodes = {
      AnyFolder&foot_ref = Main.HumanModel.BodyModel.Left.Leg.Seg.Foot;
      AnyRefFrame &Node0 = foot_ref.Calcaneus.HeelContactNodeLow;
      AnyRefFrame &Node1 = foot_ref.ProximalPhalange1.ToeMedialContactNode;
      AnyRefFrame &Node2 = foot_ref.ProximalPhalange5.ToeLateralContactNode;
      AnyRefFrame &Node3 = foot_ref.Metatarsal1.MetatarsalJoint1Node;
      AnyRefFrame &Node4 = foot_ref.Metatarsal2.MetatarsalJoint2Node;
      AnyRefFrame &Node5 = foot_ref.Metatarsal3.MetatarsalJoint3Node;
      AnyRefFrame &Node6 = foot_ref.Metatarsal4.MetatarsalJoint4Node;
      AnyRefFrame &Node7 = foot_ref.Metatarsal5.MetatarsalJoint5Node;
      AnyRefFrame &Node8 = foot_ref.DistalPhalange1.ToeTip;
      AnyRefFrame &Node9 = foot_ref.DistalPhalange2.ToeTip;
      AnyRefFrame &Node10 = foot_ref.DistalPhalange3.CenterNode;
      AnyRefFrame &Node11 = foot_ref.DistalPhalange4.CenterNode;
      AnyRefFrame &Node12 = foot_ref.DistalPhalange5.CenterNode;
      AnyRefFrame &Node13 = foot_ref.Calcaneus.HeelContactNodeLateral;
      AnyRefFrame &Node14 = foot_ref.Calcaneus.HeelContactNodeMedial;
    };   
    
    Settings = 
    {
      LimitDistHigh = 0.035;
      LimitVelHigh = 0.6;
      FrictionCoefficient = 0.8;
    };
  };
  
  
  
};

