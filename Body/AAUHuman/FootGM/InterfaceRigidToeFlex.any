//This file is used for making a interface to the dof of the foot
//the added rotnodes are needed to be able to have the same rotation definitions for 
//the right and left side


AnyKinMeasureLinComb AnklePlantarFlexion = {
  AnyKinRotational RotMeasure = {
    Type=RotAxesAngles;
    Axis1 = z; Axis2 = x; Axis3 = y; 
    AnyRefNode &ShankNode = ...Seg.Shank.AnkleJoint;
    AnyRefNode &FootNode  = ...Seg.Foot.Talus.AnkleJoint;
  };
  Coef = {{-1,0,0}};
  OutDim = 1;
};

AnyKinMeasureOrg SubTalarEversion={
  
  AnyFolder &Talus = ..Seg.Foot.Talus.SubTalarJoint;
  Talus ={
    AnyRefNode RotNode={
      ARel={{0,....Sign*-1,0},{....Sign*1,0,0},{0,0,1}};
    };
  };
  AnyFolder &Foot = ..Seg.Foot.SubTalarJoint;
  Foot ={
    AnyRefNode RotNode={
      ARel={{....Sign*1,0,0},{0,....Sign*1,0},{0,0,1}};
    };
  };
  AnyKinRotational Ankle = {
    Type=RotAxesAngles;
    AnyRefNode &TalusNode = ...Seg.Foot.Talus.SubTalarJoint;
    AnyRefNode &SubTalarNode  = ...Seg.Foot.SubTalarJoint;
   
  }; // End of SubTalar
  MeasureOrganizer={0};
};


//Toes
AnyKinMeasureOrg MetatarsoPhalangeal1DorsiFlexion = {
  AnyFolder &Metatarsal1 = ..Seg.Foot.Metatarsal1.MtPhalJoint;
  Metatarsal1 ={
//    AnyDrawRefFrame drw = {};
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
//      AnyDrawRefFrame drw = {};
    };
  };
  AnyFolder &ProximalPhalange1 = ..Seg.Foot.ProximalPhalange1.MtPhalJoint;
  ProximalPhalange1 ={
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
    };
  };
  AnyKinRotational Rot={
    AnyRefNode &Metatarsal1Node = ...Seg.Foot.Metatarsal1.MtPhalJoint.RotNode;
    AnyRefNode &ProximalPhalange1 = ...Seg.Foot.ProximalPhalange1.MtPhalJoint.RotNode;
    Type=RotAxesAngles;
  };
  MeasureOrganizer={0};//z
}; 

AnyKinMeasureOrg MetatarsoPhalangeal2DorsiFlexion = {
  AnyFolder &Metatarsal2 = ..Seg.Foot.Metatarsal2.MtPhalJoint;
  Metatarsal2 ={
//    AnyDrawRefFrame drw = {};
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
//      AnyDrawRefFrame drw = {};
    };
  };
  AnyFolder &ProximalPhalange2 = ..Seg.Foot.ProximalPhalange2.MtPhalJoint;
  ProximalPhalange2 ={
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
    };
  };
  AnyKinRotational Rot={
    AnyRefNode &Metatarsal2Node = ...Seg.Foot.Metatarsal2.MtPhalJoint.RotNode;
    AnyRefNode &ProximalPhalange2 = ...Seg.Foot.ProximalPhalange2.MtPhalJoint.RotNode;
    Type=RotAxesAngles;
  };
  MeasureOrganizer={0};//z
}; 

AnyKinMeasureOrg MetatarsoPhalangeal3DorsiFlexion = {
  AnyFolder &Metatarsal3 = ..Seg.Foot.Metatarsal3.MtPhalJoint;
  Metatarsal3 ={
//    AnyDrawRefFrame drw = {};
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
//      AnyDrawRefFrame drw = {};
    };
  };
  AnyFolder &ProximalPhalange3 = ..Seg.Foot.ProximalPhalange3.MtPhalJoint;
  ProximalPhalange3 ={
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
    };
  };
  AnyKinRotational Rot={
    AnyRefNode &Metatarsal3Node = ...Seg.Foot.Metatarsal3.MtPhalJoint.RotNode;
    AnyRefNode &ProximalPhalange3 = ...Seg.Foot.ProximalPhalange3.MtPhalJoint.RotNode;
    Type=RotAxesAngles;
  };
  MeasureOrganizer={0};//z
}; 

AnyKinMeasureOrg MetatarsoPhalangeal4DorsiFlexion = {
  AnyFolder &Metatarsal4 = ..Seg.Foot.Metatarsal4.MtPhalJoint;
  Metatarsal4 ={
//    AnyDrawRefFrame drw = {};
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
//      AnyDrawRefFrame drw = {};
    };
  };
  AnyFolder &ProximalPhalange4 = ..Seg.Foot.ProximalPhalange4.MtPhalJoint;
  ProximalPhalange4 ={
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
    };
  };
  AnyKinRotational Rot={
    AnyRefNode &Metatarsal4Node = ...Seg.Foot.Metatarsal4.MtPhalJoint.RotNode;
    AnyRefNode &ProximalPhalange4 = ...Seg.Foot.ProximalPhalange4.MtPhalJoint.RotNode;
    Type=RotAxesAngles;
  };
  MeasureOrganizer={0};//z
}; 

AnyKinMeasureOrg MetatarsoPhalangeal5DorsiFlexion = {
  AnyFolder &Metatarsal5 = ..Seg.Foot.Metatarsal5.MtPhalJoint;
  Metatarsal5 ={
//    AnyDrawRefFrame drw = {};
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
//      AnyDrawRefFrame drw = {};
    };
  };
  AnyFolder &ProximalPhalange5 = ..Seg.Foot.ProximalPhalange5.MtPhalJoint;
  ProximalPhalange5 ={
    AnyRefNode RotNode={
      ARel={{....Sign*-1,0,0},{0,....Sign*-1,0},{0,0,1}};
    };
  };
  AnyKinRotational Rot={
    AnyRefNode &Metatarsal5Node = ...Seg.Foot.Metatarsal5.MtPhalJoint.RotNode;
    AnyRefNode &ProximalPhalange5 = ...Seg.Foot.ProximalPhalange5.MtPhalJoint.RotNode;
    Type=RotAxesAngles;
  };
  MeasureOrganizer={0};//z
}; 
