#define ROOT_TOKEN "([a-zA-Z0-9]+)\.([a-zA-Z0-9\._]+)"
#define PATH_AS_IS "([a-zA-Z0-9\._]+)"

#define TOKEN_MUS_RIGHT_LEFT "^Muscles[a-zA-z]+(Right|Left)\.([a-zA-Z0-9]+)[a-zA-Z0-9_\.]*"
#define MUSCLES_SPINE "^MusclesSpine\.(.*)\..*"
AnyComponentDefinition obj = {};
Trunk={
  
  // trunk component (just an item for trunk in the Flat Tree)
  AnyComponentDefinition obj = {
    SubGroupRegexSearch = MUSCLES_SPINE;
    SubGroupRegexReplace = "$1";
  };
  
  #if (BM_TRUNK_LUMBAR_MUSCLES != _MUSCLES_NONE_) |  ((BM_LEG_RIGHT == ON ) & (BM_LEG_MUSCLES_RIGHT != OFF))
  // muscles
  MusclesSpineRight = {
    AnyComponentDefinition obj = {
      NameCast = "Right";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
    
  };
  #endif
  
  #if (BM_TRUNK_LUMBAR_MUSCLES != _MUSCLES_NONE_) |  ((BM_LEG_LEFT == ON ) & (BM_LEG_MUSCLES_LEFT != OFF))  
  MusclesSpineLeft = {
    AnyComponentDefinition obj = {
      NameCast = "Left";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  #endif
  
  #if (BM_TRUNK_LUMBAR_MUSCLES != _MUSCLES_NONE_)
  Buckle = {
    AnyComponentDefinition obj = {
      SubGroupRegexSearch = PATH_AS_IS;
      SubGroupRegexReplace = "$1";
    };
  };
  #endif

//  #if BM_TRUNK_THORACIC_MUSCLES != _MUSCLES_NONE_
//  MusclesRibCageRight = {
//    AnyComponentDefinition obj = {
//      NameCast = "Right";
//      SubGroupRegexSearch = ROOT_TOKEN;
//    };
//  };
//  MusclesRibCageLeft = {
//    AnyComponentDefinition obj = {
//      NameCast = "Left";
//      SubGroupRegexSearch = ROOT_TOKEN;
//    };
//  };
//  #endif
  
  JointMuscles = {
    AnyComponentDefinition obj = {SubGroupRegexSearch = ROOT_TOKEN;};
  };
  
  // segments
  SegmentsLumbar = {
    AnyComponentDefinition obj = {
      NameCast = "Lumbar";
    };
  };
  SegmentsCervicalSpine = {
    AnyComponentDefinition obj = {
      NameCast = "CervicalSpine";
    };
  };
  SegmentsThorax = {
    AnyComponentDefinition obj = {
      NameCast = "Thorax";
    };
  };
  
//  #if 0
//  SegmentsRibCage = {
//    AnyComponentDefinition obj = {
//      NameCast = "RibCage";
//    };
//  };  
//  #endif

  // joints
  JointsLumbar = {
    AnyComponentDefinition obj = {
      NameCast = "Lumbar";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  JointsCervicalSpine = {
    AnyComponentDefinition obj = {
      NameCast = "CervicalSpine";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  
//  #if 0
//  JointsThorax = {
//    AnyComponentDefinition Filters = {
//      NameCast = "Thorax";
//      SubGroupRegexSearch = ROOT_TOKEN;
//    };
//  };
//  JointsCTCV= {
//    AnyComponentDefinition Filters = {
//      NameCast = "RibCage";
//      SubGroupRegexSearch = ROOT_TOKEN;
//    };
//  };  
//  JointsCostoSternal= {
//    AnyComponentDefinition Filters = {
//      NameCast = "RibCage";
//      SubGroupRegexSearch = ROOT_TOKEN;
//    };
//  };  
//  CostoSternalStiffness= {
//    AnyComponentDefinition Filters = {
//      NameCast = "RibCage";
//      SubGroupRegexSearch = ROOT_TOKEN;
//    };
//  };  
//  #endif
  
};

#if BM_ARM_RIGHT == ON
Right.ShoulderArm = {
    AnyComponentDefinition Filters = {};
    Jnt = {AnyComponentDefinition Filters = {};};
    Mus = {AnyComponentDefinition Filters = {};};
    #if BM_ARM_MUSCLES_RIGHT == OFF
    JointMuscles = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    #endif
};
#endif

#if BM_ARM_LEFT == ON
Left.ShoulderArm = {
    AnyComponentDefinition Filters = {};
    Jnt = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    Mus = {AnyComponentDefinition Filters = {};};
    #if BM_ARM_MUSCLES_LEFT == OFF
    JointMuscles = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    #endif
};
#endif


#if BM_LEG_RIGHT == ON
Right.Leg = {
    AnyComponentDefinition Filters = {};
    Jnt = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    #if BM_LEG_MUSCLES_RIGHT == OFF
    JointMuscles = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    #else
    Mus = {AnyComponentDefinition Filters = {};};
    #endif
};
#endif
#if BM_LEG_LEFT == ON
Left.Leg = {
    AnyComponentDefinition Filters = {};
    Jnt = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    #if BM_LEG_MUSCLES_LEFT == OFF
    JointMuscles = {AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};};
    #else
    Mus = {AnyComponentDefinition Filters = {};};
    #endif
};
#endif

