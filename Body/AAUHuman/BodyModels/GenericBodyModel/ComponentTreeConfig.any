#define ROOT_TOKEN "([a-zA-Z0-9]+)\.([a-zA-Z0-9\._]+)"
#define PATH_AS_IS "([a-zA-Z0-9\._]+)"

#define TOKEN_MUS_RIGHT_LEFT "^Muscles[a-zA-z]+(Right|Left)\.([a-zA-Z0-9]+)[a-zA-Z0-9_\.]*"
#define MUSCLES_SPINE "^MusclesSpine\.(.*)\..*"

Trunk={
  
  // trunk component (just an item for trunk in the Flat Tree)
  AnyComponentDefinition Filters = {
    SubGroupRegexSearch = MUSCLES_SPINE;
    SubGroupRegexReplace = "$1";
  };
  
  #if BM_TRUNK_LUMBAR_MUSCLES != _MUSCLES_NONE_
  // muscles
  MusclesSpineRight = {
    AnyComponentDefinition Filters = {
      NameCast = "Right";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
    
  };
  MusclesSpineLeft = {
    AnyComponentDefinition Filters = {
      NameCast = "Left";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  Buckle = {
    AnyComponentDefinition Filters = {
      SubGroupRegexSearch = PATH_AS_IS;
      SubGroupRegexReplace = "$1";
    };
  };
  #endif

  #if 0 
  //#if BM_TRUNK_THORACIC_MUSCLES != _MUSCLES_NONE_
  MusclesRibCageRight = {
    AnyComponentDefinition Filters = {
      NameCast = "Right";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  MusclesRibCageLeft = {
    AnyComponentDefinition Filters = {
      NameCast = "Left";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  #endif
  
  JointMuscles = {
    AnyComponentDefinition Filters = {SubGroupRegexSearch = ROOT_TOKEN;};
  };
  
  // segments
  SegmentsLumbar = {
    AnyComponentDefinition Filters = {
      NameCast = "Lumbar";
    };
  };
  SegmentsCervicalSpine = {
    AnyComponentDefinition Filters = {
      NameCast = "CervicalSpine";
    };
  };
  SegmentsThorax = {
    AnyComponentDefinition Filters = {
      NameCast = "Thorax";
    };
  };
  
  #if 0
  SegmentsRibCage = {
    AnyComponentDefinition Filters = {
      NameCast = "RibCage";
    };
  };  
  #endif

  // joints
  JointsLumbar = {
    AnyComponentDefinition Filters = {
      NameCast = "Lumbar";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  JointsCervicalSpine = {
    AnyComponentDefinition Filters = {
      NameCast = "CervicalSpine";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  #if 0
  JointsThorax = {
    AnyComponentDefinition Filters = {
      NameCast = "Thorax";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };
  JointsCTCV= {
    AnyComponentDefinition Filters = {
      NameCast = "RibCage";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };  
  JointsCostoSternal= {
    AnyComponentDefinition Filters = {
      NameCast = "RibCage";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };  
  CostoSternalStiffness= {
    AnyComponentDefinition Filters = {
      NameCast = "RibCage";
      SubGroupRegexSearch = ROOT_TOKEN;
    };
  };  
  #endif
  
};

#if BM_ARM_RIGHT == ON
Right.ShoulderArm = {
    AnyComponentDefinition Filters = {};
};
#endif

#if BM_ARM_LEFT == ON
Left.ShoulderArm = {
    AnyComponentDefinition Filters = {};
};
#endif


#if BM_LEG_RIGHT == ON
Right.Leg = {
  AnyComponentDefinition RightLeg = {};
};
#endif
#if BM_LEG_LEFT == ON
Left.Leg = {
  AnyComponentDefinition LeftLeg = {};
};
#endif

